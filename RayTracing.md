# Raytracing
From Wikipedia: [nvida RayTracing](https://developer.nvidia.com/discover/ray-tracing "RayTracing")

光线追踪是一种渲染技术，通过精确模拟物理反射、折射、阴影及间接照明，能够真实再现场景及其物体的光照效果。该技术通过追踪光线路径生成计算机图形图像：光线从视角摄像机（决定场景视角）出发，穿过二维视平面（像素平面），延伸至三维场景，最终返回光源。光线在场景中传播时，可能发生物体间的反射（产生镜面反射）、被物体阻挡（形成阴影），或穿透透明/半透明物体（引发折射）。所有这些交互作用共同决定像素的最终色彩与亮度，最终呈现在屏幕上。选择这种从视点/摄像机逆向追溯光源的路径，是因为其效率远高于追踪光源多方向发射的所有光线。
另一种理解光线追踪的方式是观察当下周围环境：你所见的物体皆由光束照亮。现在反向追溯这些光束的路径——从你的眼睛逆向追溯至光线交互的物体，这就是光线追踪。
光线追踪的主要应用领域是计算机图形学，涵盖非实时（影视制作）与实时（电子游戏）场景。其他应用还包括建筑设计、工程模拟及照明设计等领域。
下文将介绍渲染技术
![RayTracing](images/RayTracing.png)

## Ray Tracing Fundamentals
### RayCasting
射线投射是光线追踪算法中的一个过程，它从相机（视点）向图像平面中的每个像素发射一条或多条射线，然后检测这些射线是否与场景中的任何基元（三角形）相交。若穿过像素进入三维场景的光线命中某个基元，则会测算该光线从原点（相机或视点）到基元的距离，该基元的颜色数据将贡献于像素的最终颜色值。光线还可能发生反弹并撞击其他物体，从而获取它们的颜色与光照信息。

### Path Tracing
路径追踪是一种更密集的光线追踪形式，它通过每个像素追踪数百或数千条光线，并追踪这些光线在到达光源前多次反射或穿透物体的过程，从而收集颜色和光照信息。

### Bounding Volume Hierarchy (BVH)
包围体层次结构（BVH）是一种流行的光线追踪加速技术，它采用基于树的“加速结构”，包含多个分层排列的包围框（包围体），这些包围框涵盖或包围不同数量的场景几何体或基元。对场景中的每个基元进行光线交点测试效率低下且计算成本高昂，而BVH正是众多可用于加速该过程的技术与优化方案之一。BVH可组织成不同类型的树结构，每条光线只需通过深度优先遍历过程与BVH进行测试，而非与场景中的每个基元逐一比对。首次渲染场景前，必须从源几何体创建BVH结构（称为BVH构建）。后续帧渲染需根据场景变化执行新的BVH构建操作或BVH重构。

### Denoising Filtering
去噪滤波是一种先进的滤波技术，可在无需额外投射光线的情况下提升性能与图像质量。该技术能显著改善受噪声影响的图像视觉效果，这类图像可能由稀疏数据构成，存在随机伪影、可见量化噪声或其他类型噪声。去噪滤波尤其擅长缩短光线追踪图像的渲染时间，并能从光线追踪器中生成视觉上无噪声的高保真图像。去噪技术的应用场景涵盖实时光线追踪与交互式渲染。交互式渲染支持用户动态调整场景属性，并即时观察修改效果在渲染图像中的实时更新。

## Rendering fundamentals
### Rasterization
光栅化是一种将三维物体显示在二维屏幕上的技术。通过光栅化，屏幕上的物体由不同形状和大小的虚拟三角形或多边形网格构成。三角形的顶点（即顶点）关联着大量信息，包括空间位置、颜色、纹理以及用于确定物体表面朝向的“法线”。计算机将三维模型的三角形转换为二维屏幕上的像素点。每个像素可从三角形顶点存储的数据中获取初始颜色值。后续像素处理（即“着色”）包括：根据场景光照调整颜色，以及应用一种或多种纹理，最终生成像素的呈现色彩。光栅化技术广泛应用于实时计算机图形领域，尽管仍需大量计算资源，但其计算强度远低于光线追踪技术。

### Hybrid Rasterization and Ray Tracing
混合光栅化与光线追踪技术通过同时运用光栅化和光线追踪两种渲染方式，实现游戏及其他应用场景的画面呈现。光栅化技术能精准识别可见物体，高效渲染场景中多个区域；而光线追踪技术则擅长呈现物理准确的反射、折射及阴影效果。两者结合使用时，既能确保画面质量卓越，又能维持良好的帧率表现。

## Accelerating Ray Tracing with GPUs
光线追踪是一种计算密集型技术。电影制作人传统上依赖于庞大的基于CPU的渲染农场，即使如此，渲染复杂特效仍需耗时数日。GPU渲染逼真的电影级光线追踪场景的速度比CPU快数倍，但受限于板载内存容量——该容量决定了可渲染场景的复杂程度。图灵架构新增的张量核心可加速人工智能运算，通过实时降噪技术大幅减少光线投射需求；同时配备的光线追踪核心则能加速BVH遍历——这是光线追踪计算中最耗时的环节。这些硬件革新配合NVIDIA RTX平台强大的软件API，使实时光线追踪技术得以应用于游戏引擎和数字内容创作领域。